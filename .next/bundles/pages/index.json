{"component":"module.exports=webpackJsonp([6],{239:function(e,t,n){\"use strict\";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(37),i=a(r),l=n(62),s=a(l),u=n(36),o=a(u),c=n(19),d=a(c),f=n(11),p=a(f),w=n(12),h=a(w),m=n(21),g=a(m),v=n(20),x=a(v),y=n(35),k=a(y),b=n(7),E=a(b),L=n(121),_=n(120),j=(n(76),\"news\"),A=function(e){function t(){var e,n,a,r,l=this;(0,p.default)(this,t);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=a=(0,g.default)(this,(e=t.__proto__||(0,d.default)(t)).call.apply(e,[this].concat(c))),a.state={articles:[],page:1,fetching:!1},a.scrollListener=function(){var e=window.innerHeight,t=window.pageYOffset;a.layout.offsetHeight-e-t<50&&!a.state.fetching&&a.setState({fetching:!0},a.getArticles)},a.getArticles=(0,o.default)(i.default.mark(function e(){var t,n,r,u;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.page,r=t.articles,e.next=3,(0,_.makeRequest)(a.props.origin,j,n);case 3:u=e.sent,a.setState({articles:[].concat((0,s.default)(r),(0,s.default)(u)),fetching:!1,page:a.state.page+1});case 5:case\"end\":return e.stop()}},e,l)})),r=n,(0,g.default)(a,r)}return(0,x.default)(t,e),(0,h.default)(t,[{key:\"componentDidMount\",value:function(){window.addEventListener(\"scroll\",this.scrollListener),window.addEventListener(\"resize\",this.scrollListener)}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"scroll\",this.scrollListener),window.removeEventListener(\"resize\",this.scrollListener)}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.articles,a=t.url,r=[].concat((0,s.default)(n),(0,s.default)(this.state.articles));return E.default.createElement(\"div\",{ref:function(t){return e.layout=t}},E.default.createElement(L.Layout,{url:a},E.default.createElement(\"h2\",{\"data-jsx\":84225715},\"News\"),E.default.createElement(\"div\",{className:\"container\",\"data-jsx\":84225715},r.map(function(e,t){if(e.pixel)return E.default.createElement(_.Ad,{key:\"article-\"+t,pixel:e.pixel,headline:e.headline,image:e.image,snippet:e.snippet,url:e.url,price:e.price});var n=e.multimedia&&e.multimedia.filter(function(e){return\"thumbnail\"===e.subtype})[0];return E.default.createElement(_.Article,{key:\"article-\"+t,headline:e.headline.print_headline,image:n,snippet:e.snippet,url:e.web_url})})),E.default.createElement(k.default,{styleId:84225715,css:'h2[data-jsx=\"84225715\"] {font-family: \\'Open Sans\\';width: 60%;text-align: center;border-bottom: 1px solid #000;}.container[data-jsx=\"84225715\"] {display:-webkit-flex; display:flex;-webkit-flex-wrap: wrap;-moz-flex-wrap: wrap;flex-wrap: wrap;justify-content: space-between;padding: 0 10px;}'})))}}],[{key:\"getInitialProps\",value:function(){function e(e){return t.apply(this,arguments)}var t=(0,o.default)(i.default.mark(function e(t){var n,a,r=t.req;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r?r.protocol+\"://\"+r.get(\"Host\"):window.location.origin,e.next=3,(0,_.makeRequest)(n,j,0);case 3:return a=e.sent,e.abrupt(\"return\",{articles:a,origin:n});case 5:case\"end\":return e.stop()}},e,this)}));return e}()}]),t}(b.Component);t.default=A},543:function(e,t,n){e.exports=n(239)}},[543]);"}